<!doctype html><html lang=en><head><meta charset=utf-8><meta content="width=device-width,initial-scale=1" name=viewport><link href=/assets/style.css rel=stylesheet><link href=https://stigsen.dev/atom.xml rel=alternate title=RSS type=application/atom+xml><meta content="Benjamin Stigsen" name=author><meta content="Is safe to use sql.DB from multiple goroutines? " name=description><link href=/assets/syntax.css rel=stylesheet><meta content="go, golang, sql, database, connection, mutex, goroutine" name=keywords><title>Go SQL Database Thread Safety</title><body><header><h1>Benjamin Stigsen</h1><nav><a href=/>Home</a><a href=/blog>Blog</a><a href=/notes>Notes</a></nav></header><main><h2>Go SQL Database Thread Safety</h2><time datetime=2024-11-21>2024-11-21</time><p>Making use of <code>sql.DB</code> from multiple goroutines is safe, since Go manages its own internal mutex.<sup class=footnote-reference><a href=#1>1</a></sup><blockquote><p>DB is a database handle representing a pool of zero or more underlying connections. <strong>It's safe for concurrent use by multiple goroutines.</strong><sup class=footnote-reference><a href=#2>2</a></sup></blockquote><hr><div class=footnote-definition id=1><sup class=footnote-definition-label>1</sup><p><a href=https://github.com/golang/go/blob/go1.23.3/src/database/sql/sql.go#L509 rel=noopener target=_blank>https://github.com/golang/go/blob/go1.23.3/src/database/sql/sql.go#L509</a></div><div class=footnote-definition id=2><sup class=footnote-definition-label>2</sup><p><a href=https://pkg.go.dev/database/sql@go1.23.3#DB rel=noopener target=_blank>https://pkg.go.dev/database/sql@go1.23.3#DB</a></div></main><br>